<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" type="text/css" href="productPage.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://js.stripe.com/v3/"></script>

        <style>
          .carousel-inner > .item > img,
          .carousel-inner > .item > a > img {
            width: 10%;
            margin: auto;
          }
          .item {
            display: none;
            position: relative;
            transition:2s ease-in-out left;
          }
        </style>
      </head>
<body>
    <nav style="font-size: larger;">
        <ul>
          <li><img src ="WETECH.jpg" width="100" height="50"></li>
          <li><a href="productPage.html">Home</a></li>
          <li><a href="basket.html"><img src="basket.png" alt="Basket" class="basket-icon"></a></li>
          <li><a href="aboutus.html">About Us</a></li>
          <li><a href="customerLogin.html">Sign in</a></li>
        </ul>
    </nav>
    <h1>Dummy Payment Page</h1>
    <form action="process_payment.php" method="post" id="payment-form">
        <!-- Card details -->
        <label for="cardNumber">Card Number:</label>
        <div id="card-number"></div>

        <label for="expiryDate">Expiry Date:</label>
        <div id="card-expiry"></div>

        <label for="cvv">CVV:</label>
        <div id="card-cvv"></div>

        <!-- Other user information fields -->
        <label for="firstName">First Name:</label>
        <input type="text" name="firstName" required><br>

        <label for="lastName">Last Name:</label>
        <input type="text" name="lastName" required><br>

        <label for="address">Address:</label>
        <input type="text" name="address" required><br>

        <!-- Submit button -->
        <button type="submit">Submit Payment</button>
    </form>

    <script>
        var stripe = Stripe('pk_test_51ODAtaLJ63xd3RyiRp8bSoivMS8bJqzoZFjWxulivp4z3QxIXtvaAJgNQ5fBENY0Dzy85j8FppO682abGyQcw4qZ004T4Wnxnu');
        var elements = stripe.elements();

        var style = {
            base: {
                fontSize: '16px',
                color: '#32325d',
            },
        };

        var card = elements.create('cardNumber', { style: style, placeholder: 'Card Number' });
        card.mount('#cardNumber');

        var exp = elements.create('cardExpiry', { style: style, placeholder: 'MM/YYYY' });
        exp.mount('#cardExpiry');

        var cvc = elements.create('cardCvc', { style: style, placeholder: 'CVV' });
        cvc.mount('#cardCvc');

        // Log any errors during element mounting
        card.on('change', function (event) {
            var displayError = document.getElementById('card-errors');
            if (event.error) {
                displayError.textContent = event.error.message;
            } else {
                displayError.textContent = '';
            }
        });

        // Handle form submission.
        var form = document.getElementById('payment-form');
        form.addEventListener('submit', function (event) {
            event.preventDefault();

            stripe.createToken(card).then(function (result) {
                if (result.error) {
                    var errorElement = document.getElementById('card-errors');
                    errorElement.textContent = result.error.message;
                } else {
                    var tokenInput = document.createElement('input');
                    tokenInput.setAttribute('type', 'hidden');
                    tokenInput.setAttribute('name', 'stripeToken');
                    tokenInput.setAttribute('value', result.token.id);
                    form.appendChild(tokenInput);

                    form.submit();
                }
            });
        });
    </script>
    <footer style="background-color: rgb(151, 148, 148); padding: 20px;">
        <div class="container">
          <div class="row">
            <div class="col-sm-3">
              <h3>Contact Us</h3>
              <a href="contactus.html">Contact Us</a>
            </div>
            <div class="col-sm-3">
              <h3>Track My Order</h3>
              <p><a href="#">Order History</a></p>
              <p><a href="#">Track My Order</a></p>
              <p><a href="#">Cancel My Order</a></p>
            </div>
            <div class="col-sm-3">
              <h3>Delivery Options</h3>
              <p><a href="#">Shipping Information</a></p>
              <p><a href="#">Free Shipping</a></p>
            </div>
            <div class="col-sm-3">
              <h3>Ways to Pay</h3>
              <p><a href="#">Credit Cards</a></p>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12 text-center">
              
              <p>&copy; WETECH</p>
            </div>
          </div>
        </div>
      </footer>
</body>
</html>
